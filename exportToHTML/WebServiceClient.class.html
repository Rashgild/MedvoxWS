<html>
<head>
<title>WebServiceClient.class</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
.ln { color: #606366; font-weight: normal; font-style: normal; }
.s0 { color: rgb(128,128,128); }
.s1 { color: rgb(169,183,198); }
.s2 { color: rgb(204,120,50); }
.s3 { color: rgb(106,135,89); }
.s4 { color: rgb(104,151,187); }
</style>
</head>
<BODY BGCOLOR="#2b2b2b">
<TABLE CELLSPACING=0 CELLPADDING=5 COLS=1 WIDTH="100%" BGCOLOR="#606060" >
<TR><TD><CENTER>
<FONT FACE="Arial, Helvetica" COLOR="#000000">
WebServiceClient.class</FONT>
</center></TD></TR></TABLE>
<pre>
<span class="s0">//</span><span class="s1"> 
</span><span class="s0">// Source code recreated from a .class file by IntelliJ IDEA</span><span class="s1"> 
</span><span class="s0">// (powered by Fernflower decompiler)</span><span class="s1"> 
</span><span class="s0">//</span><span class="s1"> 
 
</span><span class="s2">package </span><span class="s1">ru.web.client</span><span class="s2">;</span><span class="s1"> 
 
</span><span class="s2">import </span><span class="s1">java.io.IOException</span><span class="s2">;</span><span class="s1"> 
</span><span class="s2">import </span><span class="s1">java.net.URL</span><span class="s2">;</span><span class="s1"> 
</span><span class="s2">import </span><span class="s1">java.util.Iterator</span><span class="s2">;</span><span class="s1"> 
</span><span class="s2">import </span><span class="s1">java.util.List</span><span class="s2">;</span><span class="s1"> 
</span><span class="s2">import </span><span class="s1">java.util.Scanner</span><span class="s2">;</span><span class="s1"> 
</span><span class="s2">import </span><span class="s1">javax.xml.namespace.QName</span><span class="s2">;</span><span class="s1"> 
</span><span class="s2">import </span><span class="s1">javax.xml.ws.Service</span><span class="s2">;</span><span class="s1"> 
</span><span class="s2">import </span><span class="s1">ru.web.classes.AllInformation</span><span class="s2">;</span><span class="s1"> 
</span><span class="s2">import </span><span class="s1">ru.web.classes.Date</span><span class="s2">;</span><span class="s1"> 
</span><span class="s2">import </span><span class="s1">ru.web.classes.Doctor</span><span class="s2">;</span><span class="s1"> 
</span><span class="s2">import </span><span class="s1">ru.web.classes.Patient</span><span class="s2">;</span><span class="s1"> 
</span><span class="s2">import </span><span class="s1">ru.web.classes.Specialization</span><span class="s2">;</span><span class="s1"> 
</span><span class="s2">import </span><span class="s1">ru.web.classes.Time</span><span class="s2">;</span><span class="s1"> 
</span><span class="s2">import </span><span class="s1">ru.web.service.IWebService</span><span class="s2">;</span><span class="s1"> 
 
</span><span class="s2">public class </span><span class="s1">WebServiceClient { 
    </span><span class="s2">public </span><span class="s1">WebServiceClient() { 
    } 
 
    </span><span class="s2">public static void </span><span class="s1">main(String[] args) </span><span class="s2">throws </span><span class="s1">IOException { 
        URL url = </span><span class="s2">new </span><span class="s1">URL(</span><span class="s3">&quot;http://192.168.7.19:1986/webservice/start?wsdl&quot;</span><span class="s1">)</span><span class="s2">;</span><span class="s1"> 
        QName qname = </span><span class="s2">new </span><span class="s1">QName(</span><span class="s3">&quot;http://service.web.ru/&quot;</span><span class="s2">, </span><span class="s3">&quot;WebServiceImplService&quot;</span><span class="s1">)</span><span class="s2">;</span><span class="s1"> 
        Service service = Service.create(url</span><span class="s2">, </span><span class="s1">qname)</span><span class="s2">;</span><span class="s1"> 
        IWebService start = (IWebService)service.getPort(IWebService.</span><span class="s2">class</span><span class="s1">)</span><span class="s2">;</span><span class="s1"> 
        </span><span class="s2">boolean </span><span class="s1">i = </span><span class="s2">false;</span><span class="s1"> 
        </span><span class="s2">byte </span><span class="s1">id_spec = </span><span class="s4">0</span><span class="s2">;</span><span class="s1"> 
        </span><span class="s2">byte </span><span class="s1">id_doc = </span><span class="s4">0</span><span class="s2">;</span><span class="s1"> 
        </span><span class="s2">int </span><span class="s1">id_date = </span><span class="s4">0</span><span class="s2">;</span><span class="s1"> 
        </span><span class="s2">int </span><span class="s1">id_time = </span><span class="s4">0</span><span class="s2">;</span><span class="s1"> 
        </span><span class="s2">byte </span><span class="s1">bithdate_patient = </span><span class="s4">0</span><span class="s2">;</span><span class="s1"> 
        </span><span class="s2">int </span><span class="s1">id_patient = </span><span class="s4">0</span><span class="s2">;</span><span class="s1"> 
        String str_id_special = </span><span class="s3">&quot;&quot;</span><span class="s2">;</span><span class="s1"> 
        String str_id_doc = </span><span class="s3">&quot;&quot;</span><span class="s2">;</span><span class="s1"> 
        String str_id_date = </span><span class="s3">&quot;&quot;</span><span class="s2">;</span><span class="s1"> 
        String str_id_time = </span><span class="s3">&quot;&quot;</span><span class="s2">;</span><span class="s1"> 
        String str_bithdate_patient = </span><span class="s3">&quot;&quot;</span><span class="s2">;</span><span class="s1"> 
        String str_lastname = </span><span class="s3">&quot;р&quot;</span><span class="s2">;</span><span class="s1"> 
        String str_firstname = </span><span class="s3">&quot;р&quot;</span><span class="s2">;</span><span class="s1"> 
        String str_middlename = </span><span class="s3">&quot;р&quot;</span><span class="s2">;</span><span class="s1"> 
        String str_nam = </span><span class="s3">&quot;&quot;</span><span class="s2">;</span><span class="s1"> 
        System.out.println(</span><span class="s3">&quot;Введите вашу дату рождения в формате ГГГГММДД&quot;</span><span class="s1">)</span><span class="s2">;</span><span class="s1"> 
        </span><span class="s2">int </span><span class="s1">var33 = CheckInput(str_bithdate_patient</span><span class="s2">, </span><span class="s1">bithdate_patient)</span><span class="s2">;</span><span class="s1"> 
        List sp0 = start.getArrayOfPatient(Integer.valueOf(var33)).getPatients()</span><span class="s2">;</span><span class="s1"> 
        </span><span class="s2">int </span><span class="s1">var30 = </span><span class="s4">0</span><span class="s2">;</span><span class="s1"> 
        String strf = </span><span class="s3">&quot;5&quot;</span><span class="s2">;</span><span class="s1"> 
        System.out.println(</span><span class="s3">&quot;Введите Ваши ФИО (одной строкой)&quot;</span><span class="s1">)</span><span class="s2">;</span><span class="s1"> 
        strf = InputFio(strf)</span><span class="s2">;</span><span class="s1"> 
        String[] ss = strf.split(</span><span class="s3">&quot; &quot;</span><span class="s1">)</span><span class="s2">;</span><span class="s1"> 
        str_lastname = ss[</span><span class="s4">0</span><span class="s1">]</span><span class="s2">;</span><span class="s1"> 
        str_firstname = ss[</span><span class="s4">1</span><span class="s1">]</span><span class="s2">;</span><span class="s1"> 
        str_middlename = ss[</span><span class="s4">2</span><span class="s1">]</span><span class="s2">;</span><span class="s1"> 
        System.out.println(</span><span class="s3">&quot;Здравствуйте, &quot; </span><span class="s1">+ str_lastname + </span><span class="s3">&quot; &quot; </span><span class="s1">+ str_firstname + </span><span class="s3">&quot; &quot; </span><span class="s1">+ str_middlename)</span><span class="s2">;</span><span class="s1"> 
        Iterator sp = sp0.iterator()</span><span class="s2">;</span><span class="s1"> 
 
        </span><span class="s2">while</span><span class="s1">(sp.hasNext()) { 
            Patient sp1 = (Patient)sp.next()</span><span class="s2">;</span><span class="s1"> 
            </span><span class="s2">if</span><span class="s1">(sp1.getLastname().equalsIgnoreCase(str_lastname)) { 
                id_patient = sp1.getId().intValue()</span><span class="s2">;</span><span class="s1"> 
                System.out.println(</span><span class="s3">&quot;Здравствуйте, &quot; </span><span class="s1">+ str_lastname + </span><span class="s3">&quot; &quot; </span><span class="s1">+ str_firstname + </span><span class="s3">&quot; &quot; </span><span class="s1">+ str_middlename)</span><span class="s2">;</span><span class="s1"> 
                </span><span class="s2">break;</span><span class="s1"> 
            } 
        } 
 
        </span><span class="s2">if</span><span class="s1">(id_patient == </span><span class="s4">0</span><span class="s1">) { 
            System.out.println(</span><span class="s3">&quot;Мы Вас не нашли у себя в базе...&quot;</span><span class="s1">)</span><span class="s2">;</span><span class="s1"> 
            System.exit(</span><span class="s4">0</span><span class="s1">)</span><span class="s2">;</span><span class="s1"> 
        } 
 
        System.out.println(</span><span class="s3">&quot;&quot; </span><span class="s1">+ id_patient)</span><span class="s2">;</span><span class="s1"> 
        List var34 = start.getArrayOfSpecialization().getSpecializations()</span><span class="s2">;</span><span class="s1"> 
        Iterator var35 = var34.iterator()</span><span class="s2">;</span><span class="s1"> 
 
        </span><span class="s2">while</span><span class="s1">(var35.hasNext()) { 
            Specialization all = (Specialization)var35.next()</span><span class="s2">;</span><span class="s1"> 
            ++var30</span><span class="s2">;</span><span class="s1"> 
            System.out.println(var30 + </span><span class="s3">&quot; Name=&quot; </span><span class="s1">+ all.getName() + </span><span class="s3">&quot; id=&quot; </span><span class="s1">+ all.getId())</span><span class="s2">;</span><span class="s1"> 
        } 
 
        var30 = </span><span class="s4">0</span><span class="s2">;</span><span class="s1"> 
        System.out.println(</span><span class="s3">&quot;Введите Id специальности&quot;</span><span class="s1">)</span><span class="s2">;</span><span class="s1"> 
        </span><span class="s2">int </span><span class="s1">var31 = CheckInput(str_id_special</span><span class="s2">, </span><span class="s1">id_spec)</span><span class="s2">;</span><span class="s1"> 
        List var36 = start.getArrayOfDoctor(Integer.valueOf(var31)).getDoctors()</span><span class="s2">;</span><span class="s1"> 
        Iterator var37 = var36.iterator()</span><span class="s2">;</span><span class="s1"> 
 
        </span><span class="s2">while</span><span class="s1">(var37.hasNext()) { 
            Doctor result2 = (Doctor)var37.next()</span><span class="s2">;</span><span class="s1"> 
            ++var30</span><span class="s2">;</span><span class="s1"> 
            System.out.println(var30 + </span><span class="s3">&quot; Name=&quot; </span><span class="s1">+ result2.getName() + </span><span class="s3">&quot; id= &quot; </span><span class="s1">+ result2.getId() + </span><span class="s3">&quot; ФИО=&quot; </span><span class="s1">+ result2.getLastname() + </span><span class="s3">&quot; &quot; </span><span class="s1">+ result2.getFirstname() + </span><span class="s3">&quot; &quot; </span><span class="s1">+ result2.getMiddlename())</span><span class="s2">;</span><span class="s1"> 
        } 
 
        var30 = </span><span class="s4">0</span><span class="s2">;</span><span class="s1"> 
        System.out.println(</span><span class="s3">&quot; Введите Id врача </span><span class="s2">\n</span><span class="s3"> Если хотите перейти к выбору даты - введите 0&quot;</span><span class="s1">)</span><span class="s2">;</span><span class="s1"> 
        </span><span class="s2">int </span><span class="s1">var32 = CheckInput(str_id_doc</span><span class="s2">, </span><span class="s1">id_doc)</span><span class="s2">;</span><span class="s1"> 
        Date resultat</span><span class="s2">;</span><span class="s1"> 
        Time s</span><span class="s2">;</span><span class="s1"> 
        List var38</span><span class="s2">;</span><span class="s1"> 
        Iterator var39</span><span class="s2">;</span><span class="s1"> 
        List var40</span><span class="s2">;</span><span class="s1"> 
        Iterator var41</span><span class="s2">;</span><span class="s1"> 
        </span><span class="s2">if</span><span class="s1">(var32 &gt; </span><span class="s4">0</span><span class="s1">) { 
            var38 = start.getArrayOfDatesSecond(Integer.valueOf(var31)</span><span class="s2">, </span><span class="s1">Integer.valueOf(var32)).getDates()</span><span class="s2">;</span><span class="s1"> 
            var39 = var38.iterator()</span><span class="s2">;</span><span class="s1"> 
 
            </span><span class="s2">while</span><span class="s1">(var39.hasNext()) { 
                resultat = (Date)var39.next()</span><span class="s2">;</span><span class="s1"> 
                ++var30</span><span class="s2">;</span><span class="s1"> 
                System.out.println(var30 + </span><span class="s3">&quot; Дата= &quot; </span><span class="s1">+ resultat.getDate() + </span><span class="s3">&quot; Id = &quot; </span><span class="s1">+ resultat.getId())</span><span class="s2">;</span><span class="s1"> 
            } 
 
            System.out.println(</span><span class="s3">&quot;Введите Id даты&quot;</span><span class="s1">)</span><span class="s2">;</span><span class="s1"> 
            id_date = CheckInput(str_id_date</span><span class="s2">, </span><span class="s1">id_date)</span><span class="s2">;</span><span class="s1"> 
            var40 = start.getArrayOfTimesSecond(Integer.valueOf(id_date)).getTimes()</span><span class="s2">;</span><span class="s1"> 
            var41 = var40.iterator()</span><span class="s2">;</span><span class="s1"> 
 
            </span><span class="s2">while</span><span class="s1">(var41.hasNext()) { 
                s = (Time)var41.next()</span><span class="s2">;</span><span class="s1"> 
                ++var30</span><span class="s2">;</span><span class="s1"> 
                System.out.println(var30 + </span><span class="s3">&quot; Время= &quot; </span><span class="s1">+ s.getTime() + </span><span class="s3">&quot; Id = &quot; </span><span class="s1">+ s.getId())</span><span class="s2">;</span><span class="s1"> 
            } 
 
            System.out.println(</span><span class="s3">&quot;Введите Id времени &quot;</span><span class="s1">)</span><span class="s2">;</span><span class="s1"> 
            id_time = CheckInput(str_id_time</span><span class="s2">, </span><span class="s1">id_time)</span><span class="s2">;</span><span class="s1"> 
        } 
 
        </span><span class="s2">if</span><span class="s1">(var32 == </span><span class="s4">0</span><span class="s1">) { 
            var38 = start.getArrayOfDatesFirst(Integer.valueOf(var31)).getDates()</span><span class="s2">;</span><span class="s1"> 
            var39 = var38.iterator()</span><span class="s2">;</span><span class="s1"> 
 
            </span><span class="s2">while</span><span class="s1">(var39.hasNext()) { 
                resultat = (Date)var39.next()</span><span class="s2">;</span><span class="s1"> 
                ++var30</span><span class="s2">;</span><span class="s1"> 
                System.out.println(var30 + </span><span class="s3">&quot; Дата= &quot; </span><span class="s1">+ resultat.getDate() + </span><span class="s3">&quot; Id = &quot; </span><span class="s1">+ resultat.getId())</span><span class="s2">;</span><span class="s1"> 
            } 
 
            System.out.println(</span><span class="s3">&quot;Введите Id даты&quot;</span><span class="s1">)</span><span class="s2">;</span><span class="s1"> 
            id_date = CheckInput(str_id_date</span><span class="s2">, </span><span class="s1">id_date)</span><span class="s2">;</span><span class="s1"> 
            var40 = start.getArrayOfTimesFirst(Integer.valueOf(var31)</span><span class="s2">, </span><span class="s1">Integer.valueOf(id_date)).getTimes()</span><span class="s2">;</span><span class="s1"> 
            var41 = var40.iterator()</span><span class="s2">;</span><span class="s1"> 
 
            </span><span class="s2">while</span><span class="s1">(var41.hasNext()) { 
                s = (Time)var41.next()</span><span class="s2">;</span><span class="s1"> 
                ++var30</span><span class="s2">;</span><span class="s1"> 
                System.out.println(var30 + </span><span class="s3">&quot; Время= &quot; </span><span class="s1">+ s.getTime() + </span><span class="s3">&quot; Id = &quot; </span><span class="s1">+ s.getId())</span><span class="s2">;</span><span class="s1"> 
            } 
 
            System.out.println(</span><span class="s3">&quot;Введите Id времени &quot;</span><span class="s1">)</span><span class="s2">;</span><span class="s1"> 
            id_time = CheckInput(str_id_time</span><span class="s2">, </span><span class="s1">id_time)</span><span class="s2">;</span><span class="s1"> 
        } 
 
        i = </span><span class="s2">false;</span><span class="s1"> 
        var38 = start.getArrayOfAllinformation(Integer.valueOf(var32)</span><span class="s2">, </span><span class="s1">Integer.valueOf(var31)</span><span class="s2">, </span><span class="s1">Integer.valueOf(id_date)</span><span class="s2">, </span><span class="s1">Integer.valueOf(id_time)).getAllinformation()</span><span class="s2">;</span><span class="s1"> 
        var39 = var38.iterator()</span><span class="s2">;</span><span class="s1"> 
 
        </span><span class="s2">while</span><span class="s1">(var39.hasNext()) { 
            AllInformation var43 = (AllInformation)var39.next()</span><span class="s2">;</span><span class="s1"> 
            System.out.println(</span><span class="s3">&quot;Вы &quot; </span><span class="s1">+ str_lastname + </span><span class="s3">&quot; &quot; </span><span class="s1">+ str_firstname + </span><span class="s3">&quot; &quot; </span><span class="s1">+ str_middlename + </span><span class="s3">&quot;&quot; </span><span class="s1">+ </span><span class="s3">&quot; хотите записаться на прием к &quot; </span><span class="s1">+ var43.getName() + </span><span class="s3">&quot; &quot; </span><span class="s1">+ var43.getLastname() + </span><span class="s3">&quot; &quot; </span><span class="s1">+ var43.getFirstname() + </span><span class="s3">&quot; &quot; </span><span class="s1">+ var43.getMiddlename() + </span><span class="s3">&quot; на &quot; </span><span class="s1">+ var43.getDate() + </span><span class="s3">&quot; &quot; </span><span class="s1">+ var43.getTime())</span><span class="s2">;</span><span class="s1"> 
        } 
 
        </span><span class="s2">int </span><span class="s1">var42 = start.CheckTimeCalendar(Integer.valueOf(id_time))</span><span class="s2">;</span><span class="s1"> 
        </span><span class="s2">if</span><span class="s1">(var42 == </span><span class="s4">0</span><span class="s1">) { 
            </span><span class="s2">int </span><span class="s1">var44 = start.setPatientRecord(Integer.valueOf(id_patient)</span><span class="s2">, </span><span class="s1">Integer.valueOf(id_time))</span><span class="s2">;</span><span class="s1"> 
            </span><span class="s2">if</span><span class="s1">(var44 &gt; </span><span class="s4">0</span><span class="s1">) { 
                System.out.println(</span><span class="s3">&quot;Вы успешно записаны, Ваш номер в очереди&quot; </span><span class="s1">+ var44 + </span><span class="s3">&quot; :D&quot;</span><span class="s1">)</span><span class="s2">;</span><span class="s1"> 
            } </span><span class="s2">else </span><span class="s1">{ 
                System.out.println(</span><span class="s3">&quot;Что-то пошло не так!&quot;</span><span class="s1">)</span><span class="s2">;</span><span class="s1"> 
            } 
        } </span><span class="s2">else </span><span class="s1">{ 
            System.out.println(</span><span class="s3">&quot;ОЙ! Что-то пошло не так! Давайте попробуем снова?&quot;</span><span class="s1">)</span><span class="s2">;</span><span class="s1"> 
        } 
 
    } 
 
    </span><span class="s2">private static int </span><span class="s1">CheckInput(String str</span><span class="s2">, int </span><span class="s1">id) { 
        Scanner scan = </span><span class="s2">new </span><span class="s1">Scanner(System.in)</span><span class="s2">;</span><span class="s1"> 
 
        </span><span class="s2">while</span><span class="s1">(!str.matches(</span><span class="s3">&quot;^</span><span class="s2">\\</span><span class="s3">d+$&quot;</span><span class="s1">)) { 
            str = scan.nextLine()</span><span class="s2">;</span><span class="s1"> 
            </span><span class="s2">if</span><span class="s1">(str.matches(</span><span class="s3">&quot;^</span><span class="s2">\\</span><span class="s3">d+$&quot;</span><span class="s1">)) { 
                id = Integer.parseInt(str)</span><span class="s2">;</span><span class="s1"> 
                </span><span class="s2">return </span><span class="s1">id</span><span class="s2">;</span><span class="s1"> 
            } 
 
            System.out.println(</span><span class="s3">&quot;Неверный ввод данных! Повторите попытку: &quot;</span><span class="s1">)</span><span class="s2">;</span><span class="s1"> 
        } 
 
        </span><span class="s2">return </span><span class="s1">id</span><span class="s2">;</span><span class="s1"> 
    } 
 
    </span><span class="s2">private static </span><span class="s1">String InputFio(String str) { 
        Scanner scan = </span><span class="s2">new </span><span class="s1">Scanner(System.in)</span><span class="s2">;</span><span class="s1"> 
        str = scan.nextLine()</span><span class="s2">;</span><span class="s1"> 
        </span><span class="s2">return </span><span class="s1">str</span><span class="s2">;</span><span class="s1"> 
    } 
 
    </span><span class="s2">private static boolean </span><span class="s1">equals(String str1</span><span class="s2">, </span><span class="s1">String str2) { 
        </span><span class="s2">return </span><span class="s1">str1 == </span><span class="s2">null</span><span class="s1">?str2 == </span><span class="s2">null</span><span class="s1">:str1.equals(str2)</span><span class="s2">;</span><span class="s1"> 
    } 
} 
</span></pre>
</body>
</html>